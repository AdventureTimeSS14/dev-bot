import discord

from bot_init import bot
from config import ADMIN_TEAM

commands_info = {
    "–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã": {
        "&new_team": {
            "description": "–î–æ–±–∞–≤–ª—è–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –≤ –æ—Ç–¥–µ–ª –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ üåÄ–∞–¥–º–∏–Ω-—Å–æ—Å—Ç–∞–≤.",
            "example": '&new_team @User –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è "–ì–ª–∞–≤–Ω—ã–π –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä"',
            "syntax": "&new_team <–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å> <—Ä–æ–ª—å –æ—Ç–¥–µ–ª–∞> <—Ä–æ–ª—å –¥–æ–ª–∂–Ω–æ—Å—Ç–∏>"
        },
        "&remove_team": {
            "description": "–£–¥–∞–ª—è–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∏–∑ –æ—Ç–¥–µ–ª–∞ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ üåÄ–∞–¥–º–∏–Ω-—Å–æ—Å—Ç–∞–≤.",
            "example": '&remove_team @User –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è "–ì–ª–∞–≤–Ω—ã–π –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä" "–ü—Ä–∏—á–∏–Ω–∞"',
            "syntax": "&remove_team <–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å> <—Ä–æ–ª—å –æ—Ç–¥–µ–ª–∞> <—Ä–æ–ª—å –¥–æ–ª–∂–Ω–æ—Å—Ç–∏> <–ø—Ä–∏—á–∏–Ω–∞>"
        },
        "&tweak_team": {
            "description": "–ò–∑–º–µ–Ω—è–µ—Ç —Ä–æ–ª—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ üåÄ–∞–¥–º–∏–Ω-—Å–æ—Å—Ç–∞–≤.",
            "example": '&tweak_team @User "–°—Ç–∞—Ä—à–∞—è —Ä–æ–ª—å" "–ù–æ–≤–∞—è —Ä–æ–ª—å" "–ü—Ä–∏—á–∏–Ω–∞"',
            "syntax": "&tweak_team <–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å> <—Å—Ç–∞—Ä–∞—è —Ä–æ–ª—å> <–Ω–æ–≤–∞—è —Ä–æ–ª—å> <–ø—Ä–∏—á–∏–Ω–∞>"
        },
        "&add_vacation": {
            "description": "–í—ã–¥–∞–µ—Ç —Ä–æ–ª—å –æ—Ç–ø—É—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ üåÄ–∞–¥–º–∏–Ω-—Å–æ—Å—Ç–∞–≤.",
            "example": '&add_vacation @User 22.02.2024 "–û—Ç–ø—É—Å–∫"',
            "syntax": "&add_vacation <–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å> <—Å—Ä–æ–∫ DD.MM.YYYY> <–ø—Ä–∏—á–∏–Ω–∞>"
        },
        "&end_vacation": {
            "description": "–£–¥–∞–ª—è–µ—Ç —Ä–æ–ª—å –æ—Ç–ø—É—Å–∫–∞ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ üåÄ–∞–¥–º–∏–Ω-—Å–æ—Å—Ç–∞–≤.",
            "example": '&end_vacation @User',
            "syntax": "&end_vacation <–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å>"
        },
        "&extend_vacation": {  # –ù–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–æ–¥–ª–µ–Ω–∏—è –æ—Ç–ø—É—Å–∫–∞
            "description": "–ü—Ä–æ–¥–ª–µ–≤–∞–µ—Ç —Å—Ä–æ–∫ –æ—Ç–ø—É—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, –æ–±–Ω–æ–≤–ª—è—è –¥–∞—Ç—É –æ–∫–æ–Ω—á–∞–Ω–∏—è –æ—Ç–ø—É—Å–∫–∞ –∏ –ø—Ä–∏—á–∏–Ω—É.",
            "example": '&extend_vacation @User 30.12.2024 "–ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –≤—ã—Ö–æ–¥–Ω—ã—Ö"',
            "syntax": "&extend_vacation <–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å> <–Ω–æ–≤—ã–π —Å—Ä–æ–∫ DD.MM.YYYY> <–ø—Ä–∏—á–∏–Ω–∞>"
        }
    },
    "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã": {
        "&add_role": {
            "description": "–î–æ–±–∞–≤–ª—è–µ—Ç –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–æ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.",
            "example": '&add_role @User –û—Ç–ø—É—Å–∫–Ω–∏–∫ –•–æ—Å—Ç –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫',
            "syntax": "&add_role <–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å> <—Ä–æ–ª—å/—Ä–æ–ª–∏>"
        },
        "&remove_role": {
            "description": "–£–¥–∞–ª—è–µ—Ç –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–æ–ª–µ–π —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.",
            "example": '&remove_role @User –û—Ç–ø—É—Å–∫–Ω–∏–∫ –•–æ—Å—Ç –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫',
            "syntax": "&remove_role <–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å> <—Ä–æ–ª—å/—Ä–æ–ª–∏>"
        }
    },
    "–ü—Ä–∏–º–µ—á–∞–Ω–∏—è": [
        "1. –ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ —Ä–æ–ª–µ–π –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏.",
        "2. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∏–Ω–≥, ID –∏–ª–∏ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è/—Ä–æ–ª–∏."
    ]
}

@bot.command()
async def team_help(ctx):
    """
    –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞ —Å–ø—Ä–∞–≤–∫–∏ –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –æ—Ç–¥–µ–ª–æ–º.
    """
    # –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π
    channel_get = bot.get_channel(ADMIN_TEAM)

    if not channel_get:
        await ctx.send("–ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –∫–∞–Ω–∞–ª –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π.")
        return

    # –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è –¥–ª—è Embed —Å–æ–æ–±—â–µ–Ω–∏—è
    embed_description = "üìÉ **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–¥–µ–ª–æ–º –∏ –¥–æ–ª–∂–Ω–æ—Å—Ç—è–º–∏:**\n"
    
    # –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–∞–Ω–¥—ã –∏–∑ —Å–ª–æ–≤–∞—Ä—è
    for category, commands in commands_info.items():
        if isinstance(commands, dict):
            embed_description += f"\n**{category}:**\n"
            for command, details in commands.items():
                embed_description += (f"\n**{command}**:\n"
                                      f"  - –°–∏–Ω—Ç–∞–∫—Å–∏—Å: `{details['syntax']}`\n"
                                      f"  - –ü—Ä–∏–º–µ—Ä: `{details['example']}`\n"
                                      f"  - –û–ø–∏—Å–∞–Ω–∏–µ: {details['description']}\n")
        elif isinstance(commands, list):
            embed_description += f"\n**{category}:**\n"
            for note in commands:
                embed_description += f"- {note}\n"

    # –°–æ–∑–¥–∞–Ω–∏–µ Embed —Å–æ–æ–±—â–µ–Ω–∏—è
    embed = discord.Embed(
        title="üìö –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏ –æ—Ç–¥–µ–ª–∞",
        description=embed_description,
        color=discord.Color.gold()
    )

    # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ –∫–æ–º–∞–Ω–¥—ã
    embed.set_author(name=ctx.author.name, icon_url=ctx.author.avatar.url)

    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º Embed
    await ctx.send(embed=embed)
